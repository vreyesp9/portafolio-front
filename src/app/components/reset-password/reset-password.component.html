<div class="login-container">
    <div class="login-overlay"></div>
    <div class="login-card">
      <div class="avatar-container">
        <div class="avatar">
          <img src="../../../../assets/Logo_grande.png" alt="Logo" />
        </div>
      </div>
  
      <div class="login-header">
        <h1>Recuperar Contraseña</h1>
      </div>
  
      <!-- Paso 1: Ingresar correo electrónico -->
      <form
        *ngIf="step === 1"
        [formGroup]="emailForm"
        (ngSubmit)="sendEmail()"
        class="login-form"
      >
        <div class="form-group">
          <label for="email">Correo Electrónico</label>
          <div class="input-container">
            <input
              type="email"
              id="email"
              formControlName="email"
              placeholder="Ej: usuario@dominio.com"
              [class.invalid]="emailForm.get('email')?.invalid && emailForm.get('email')?.touched"
            />
            <span class="input-icon">📧</span>
          </div>
          <div
            class="error-message"
            *ngIf="emailForm.get('email')?.invalid && emailForm.get('email')?.touched"
          >
            Por favor, ingresa un correo válido.
          </div>
        </div>
  
        <button type="submit" [disabled]="emailForm.invalid" class="submit-button">
          Enviar Código de Verificación
        </button>
      </form>
  
      <!-- Paso 2: Ingresar código de verificación -->
      <form
        *ngIf="step === 2"
        [formGroup]="codeForm"
        (ngSubmit)="verifyCode()"
        class="login-form"
      >
        <div class="form-group">
          <label for="code">Código de Verificación</label>
          <div class="input-container">
            <input
              type="text"
              id="code"
              formControlName="code"
              placeholder="Ingresa el código recibido"
              maxlength="6"
              [class.invalid]="codeForm.get('code')?.invalid && codeForm.get('code')?.touched"
            />
            <span class="input-icon">🔑</span>
          </div>
          <div
            class="error-message"
            *ngIf="codeForm.get('code')?.invalid && codeForm.get('code')?.touched"
          >
            Por favor, ingresa un código válido.
          </div>
        </div>
  
        <button type="submit" [disabled]="codeForm.invalid" class="submit-button">
          Verificar Código
        </button>
      </form>
  
      <!-- Paso 3: Ingresar nueva contraseña -->
      <form
        *ngIf="step === 3"
        [formGroup]="passwordForm"
        (ngSubmit)="resetPassword()"
        class="login-form"
      >
        <div class="form-group">
          <label for="newPassword">Nueva Contraseña</label>
          <div class="input-container">
            <input
              type="password"
              id="newPassword"
              formControlName="newPassword"
              placeholder="Ingresa tu nueva contraseña"
            />
            <span class="input-icon">🔒</span>
          </div>
        </div>
  
        <div class="form-group">
          <label for="confirmPassword">Confirmar Contraseña</label>
          <div class="input-container">
            <input
              type="password"
              id="confirmPassword"
              formControlName="confirmPassword"
              placeholder="Confirma tu nueva contraseña"
            />
            <span class="input-icon">🔒</span>
          </div>
        </div>
  
        <button
          type="submit"
          [disabled]="passwordForm.invalid"
          class="submit-button"
        >
          Cambiar Contraseña
        </button>
      </form>
  
      <a [routerLink]="'/'" class="forgot-password">
        Volver a Iniciar Sesión
      </a>
    </div>
  </div>
  